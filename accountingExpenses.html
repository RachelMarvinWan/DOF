<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>DOF - Accounting - Expenses</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" media="all">
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link href="vendor/animsition/animsition.min.css" rel="stylesheet" media="all">
    <link href="vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet" media="all">
    <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="vendor/slick/slick.css" rel="stylesheet" media="all">
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all">
    <link href="vendor/vector-map/jqvmap.min.css" rel="stylesheet" media="all">

    <!-- DataTables -->
    <link rel="stylesheet" href="vendor/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="vendor/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" href="vendor/datatables-buttons/css/buttons.bootstrap4.min.css">

    <!-- Date Range Picker CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">

    <style>
      /* Ensure items are side by side by default */
      .analysis-container .analysis-item {
          margin-bottom: 20px; /* Adjust spacing as needed */
      }

      /* For screens from 1222px to 991px, and 862px and smaller, stack items vertically */
      @media (max-width: 1222px) and (min-width: 992px),
            (max-width: 862px) {
          .analysis-container .analysis-item {
              flex: 0 0 100%;
              max-width: 100%;
          }
      }

      /* Ensure items are side by side for larger screens */
      @media (min-width: 1230px) {
          .analysis-container {
              display: flex;
              flex-wrap: wrap;
          }
          .analysis-container .analysis-item {
              flex: 0 0 50%;
              max-width: 50%;
          }
      }
    </style>
</head>

<body>
    <div class="page-wrapper">
        <!-- HEADER MOBILE-->
        <header class="header-mobile d-block d-lg-none">
            <div class="header-mobile__bar">
                <div class="container-fluid">
                    <div class="header-mobile-inner">
                        <a class="logo" href="/Telemetry">
                            <img src="images/SBDLogo.jpeg" alt="Satok Bridge Digital" />
                        </a>
                        <button class="hamburger hamburger--slider" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="navbar-mobile">
                <div class="container-fluid">
                    <ul class="navbar-mobile__list list-unstyled">
                        <li>
                            <a href="/Telemetry">
                                <i class="fas fa-tachometer-alt"></i><span data-i18n="telemetry"></span></a>
                        </li>
                        <li>
                            <a href="/History">
                                <i class="fas fa-archive"></i><span data-i18n="history"></span></a>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-chart-bar"></i><span data-i18n="accounting"></span>
                            </a>
                            <ul class="navbar-mobile-sub__list list-unstyled js-sub-list">
                                <li>
                                    <a href="/Accounting-Expenses"><span data-i18n="expenses"></a>
                                </li>
                                <li>
                                    <a href="Accounting-Income"><span data-i18n="income"></a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="/Gallery">
                                <i class="fas fa-table"></i><span data-i18n="gallery"></span></a>
                        </li>
                        <li id="mobile-users-item">
                            <a href="/Users">
                                <i class="fas fa-users"></i><span data-i18n="users"></span></a>
                        </li>
                        <li>
                            <a href="/About">
                                <i class="fas fa-copy"></i><span data-i18n="about"></span></a>
                        </li>
                        <li>
                            <a href="/Settings">
                                <i class="fas fa-wrench"></i><span data-i18n="settings"></span></a>
                        </li>
                        <br>
                        <li>
                            <center>
                                <button id="logoutBtn" class="au-btn au-btn--logout au-btn-icon">
                                    <i class="zmdi zmdi-power"></i><span data-i18n="logout"></span>
                                </button>
                            </center>
                        </li>
                        <br>
                    </ul>
                </div>
            </div>
        </header>
        <!-- END HEADER MOBILE-->

        <!-- MENU SIDEBAR-->
        <aside class="menu-sidebar d-none d-lg-block">
            <div class="logo">
                <a href="#">
                    <img src="images/SBDLogo.jpeg" alt="Satok Bridge Digital" />
                </a>
            </div>
            <div class="menu-sidebar__content js-scrollbar1">
                <nav class="navbar-sidebar">
                    <ul class="list-unstyled navbar__list">
                        <li>
                            <a href="/Telemetry">
                                <i class="fas fa-tachometer-alt"></i><span data-i18n="telemetry"></span></a>
                        </li>
                        <li>
                            <a href="/History">
                                <i class="fas fa-archive"></i><span data-i18n="history"></span></a>
                        </li>
                        <li class="active has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-chart-bar"></i><span data-i18n="accounting"></span>
                            </a>
                            <ul class="list-unstyled navbar__sub-list js-sub-list">
                                <li>
                                    <a href="/Accounting-Expenses"><span data-i18n="expenses"></a>
                                </li>
                                <li>
                                    <a href="/Accounting-Income"><span data-i18n="income"></a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="/Gallery">
                                <i class="fas fa-table"></i><span data-i18n="gallery"></span></a>
                        </li>
                        <li id="sidebar-users-item">
                            <a href="/Users">
                                <i class="fas fa-users"></i><span data-i18n="users"></span></a>
                        </li>
                        <li>
                            <a href="/About">
                                <i class="fas fa-copy"></i><span data-i18n="about"></span></a>
                        </li>
                        <li>
                            <a href="/Settings">
                                <i class="fas fa-wrench"></i><span data-i18n="settings"></span></a>
                        </li>
                        <br>
                        <li>
                            <center>
                                <button id="logoutBtn" class="au-btn au-btn--logout au-btn-icon">
                                    <i class="zmdi zmdi-power"></i><span data-i18n="logout"></span>
                                </button>
                            </center>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <!-- END MENU SIDEBAR-->

        <!-- PAGE CONTAINER-->
        <div class="page-container">
            <!-- MAIN CONTENT -->
            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col">
                          <center><h1 class="m-4"><span data-i18n="expenses"></span></h1></center>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col d-flex justify-content-end">
                          <button class="au-btn align-items-center m-r-10" onclick="window.location.href='/Add-New-Expense';">
                            <span data-i18n="addExpRec"></span>
                          </button>
                        </div>
                      </div><br>
                      <div class="row">
                        <div class="col">
                          <div class="au-card">
                            <div class="au-card-header">
                              <div class="row">
                                <div class="col justify-content-start"><h3><span data-i18n="expsRec"></span></h3></div>
                                <div class="col d-flex justify-content-end">
                                  <div class="form-group">
                                    <select id="category-filter" class="form-control select2" style="width: 100%;">
                                      <option value="">All Categories</option>
                                      <option>Aquaculture Equipment</option>
                                      <option>Chemicals and Medications</option>
                                      <option>Feed Costs</option>
                                      <option>Fertilizers and Lime</option>
                                      <option>Purchase of Livestock</option>
                                      <option>Repairs and Maintenance</option>
                                      <option>Storage and Warehousing</option>
                                      <option>Other Expense</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div><br>
                                <table id="expense-table" class="table table-bordered table-striped">
                                  <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Expense Item</th>
                                        <th>Category</th>
                                        <th>Remarks</th>
                                        <th>View Record</th>
                                      </tr>
                                  </thead>
                                  <tbody id="expensesTableBody">
                                    <!-- Expenses records will be dynamically inserted here -->
                                  </tbody>
                                </table>
                          </div>
                        </div>
                      </div>
                      <div class="row analysis-container">
                        <div class="col-md-6 analysis-item">
                          <!-- BAR CHART -->
                          <div class="au-card">
                            <div class="au-card-header">
                              <h3><span data-i18n="expAnalysis"></span></h3><br>
                              <button type="button" class="btn btn-secondary" id="downloadBarChart">
                                Download
                              </button>
                              &nbsp;&nbsp;
                              <button type="button" class="btn btn-secondary" id="exportBarCSV">
                                Export CSV
                              </button>
                            </div>
                            <div class="au-card-body">
                              <div class="row justify-content-between align-items-center">
                                <button type="button" class="btn btn-primary" id="prevYear" style="left: 10px;">
                                  <i class="fas fa-arrow-left"></i>
                                </button>
                                <button type="button" class="btn btn-primary" id="nextYear" style="right: 10px;">
                                  <i class="fas fa-arrow-right"></i>
                                </button>
                              </div>
                              <br>
                            
                              <div class="chart">
                                <canvas id="barChart" style="min-height: 250px; height: 400px; max-height: 400px; max-width: 100%;"></canvas>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6 analysis-item">
                          <div class="au-card">
                            <div class="au-card-header">
                              <h3><span data-i18n="expCategoryAnalysis"></span></h3><br>
                              <button type="button" class="btn btn-secondary" id="downloadPieChart">
                                Download
                              </button>
                              &nbsp;&nbsp;
                              <button type="button" class="btn btn-secondary" id="exportPieCSV">
                                Export CSV
                              </button>
                            
                            </div>
                            <div class="au-card-body">
                              <div class="row justify-content-between align-items-center">
                                <button type="button" class="btn btn-primary" id="prevYearPie">
                                  <i class="fas fa-arrow-left"></i>
                                </button>
                                <button type="button" class="btn btn-primary" id="nextYearPie">
                                  <i class="fas fa-arrow-right"></i>
                                </button>
                              </div>
                              <div class="chart">
                                <canvas id="pieChart" style="min-height: 250px; height: 400px; max-height: 400px; max-width: 100%;"></canvas>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row p-t-40"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS -->
    <script src="vendor/slick/slick.min.js"></script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/animsition/animsition.min.js"></script>
    <script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <script src="vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="vendor/counter-up/jquery.counterup.min.js"> </script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="vendor/select2/select2.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-export@latest/dist/chartjs-plugin-export.min.js"></script>
    <!-- Include xlsx library for Excel export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>

    <!-- Include PapaParse library for CSV export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

    <!-- DataTables  & Plugins -->
    <script src="vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="vendor/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="vendor/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="vendor/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="vendor/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="vendor/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="vendor/jszip/jszip.min.js"></script>
    <script src="vendor/pdfmake/pdfmake.min.js"></script>
    <script src="vendor/pdfmake/vfs_fonts.js"></script>
    <script src="vendor/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="vendor/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="vendor/datatables-buttons/js/buttons.colVis.min.js"></script>

    <!-- Main JS-->
    <script src="js/main.js"></script>

    <!--   History Page JS   -->
    <script src="js/history.js"></script>

    <!-- User Account JS -->
    <script src="js/userAccount.js"></script>

    <!-- Date Range Picker JS -->
    <script src="https://cdn.jsdelivr.net/npm/moment/min/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

    <!-- Language Switch JS -->
    <script src="js/language_switch.js"></script>

    <!-- Accounting Income Page JS -->
    <script src="js/accountingExpenses.js"></script>

</body>
</html>
